<!DOCTYPE html>
<html>
  <head>
	<title>Movimentando personagem com keydown</title>
</head>
  <body>
	<canvas id='canvas_teclado_1' width='500' height='500' style='border:1px solid #000;'></canvas>
	<script>
	 var canvas=document.getElementById('canvas_teclado_1');
	 var context=canvas.getContext('2d');

	 var posicaoX=0;
	 var posicaoY=0
	 cor="#55dfCC";
	 desenharPersonagem(cor);
	 document.addEventListener('keydown',function(evento){
		if(evento.keyCode==37){
			posicaoX-=20;
			desenharPersonagem(cor);
		}
		if(evento.keyCode==39){
			posicaoX+=20;
			desenharPersonagem(cor);
		}
		if(evento.keyCode==38){
			posicaoY-=20;
			desenharPersonagem(cor);
		}
		if(evento.keyCode==40){
			posicaoY+=20;
			desenharPersonagem(cor);
		}
		if(evento.key=="m"){
			cor="#55dfCC";
			desenharPersonagem(cor);
		}
		if(evento.key=="l"){
			cor="orange";
			desenharPersonagem(cor);
		}
		
	});

	function desenharPersonagem(cor){
		context.clearRect(0,0,canvas.width,canvas.height);
		context.fillStyle=cor;
		context.fillRect(posicaoX,posicaoY,20,20);
	}
	</script>
	
	
</body>
</html>